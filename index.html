<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EOS Fitness Tracker - Equipment Settings & Workout Manager</title>
    <link rel="stylesheet" href="styles.css">
    <meta name="description" content="Track equipment settings, find substitutes, and manage workouts at EOS Fitness Lutz, Florida">
    <meta name="theme-color" content="#FF6B35">
</head>
<body>
    <!-- Main Header -->
    <header class="main-header">
        <div class="header-content">
            <h1>üí™ EOS Fitness Tracker</h1>
            <div class="header-info">
                <span class="gym-location">EOS Fitness Lutz, FL</span>
                <div class="user-status">
                    <span id="user-name" class="user-name hidden"></span>
                    <button id="auth-btn" class="auth-btn">Login</button>
                    <span id="sync-status" class="sync-status">
                        <span class="sync-indicator offline">‚óè</span>
                        <span class="sync-text">Offline</span>
                    </span>
                </div>
                <span id="last-updated" class="last-updated">Loading...</span>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="main-nav" aria-label="Main navigation">
        <button data-view="equipment" class="nav-btn active" aria-current="page">
            <span class="nav-icon">üèãÔ∏è</span>
            <span>Equipment</span>
        </button>
        <button data-view="workout" class="nav-btn">
            <span class="nav-icon">üìã</span>
            <span>Workout</span>
        </button>
        <button data-view="substitutes" class="nav-btn">
            <span class="nav-icon">üîÑ</span>
            <span>Substitutes</span>
        </button>
        <button data-view="history" class="nav-btn">
            <span class="nav-icon">üìä</span>
            <span>History</span>
        </button>
        <button data-view="settings" class="nav-btn">
            <span class="nav-icon">‚öôÔ∏è</span>
            <span>Settings</span>
        </button>
    </nav>

    <!-- Main Content Container -->
    <main class="main-content">
        
        <!-- Equipment View -->
        <div id="equipment-view" class="view active">
            <!-- Search and Filters -->
            <div class="filters-section">
                <div class="search-bar">
                    <label for="search-input" class="sr-only">Search equipment</label>
                    <div class="search-input-container">
                        <input type="text" id="search-input" placeholder="Search equipment, muscles, or zones..." class="search-input" aria-describedby="search-hint">
                        <button id="clear-all-btn" class="clear-all-btn" title="Clear all filters and search">Clear all</button>
                    </div>
                    <div id="search-hint" class="sr-only">Search by equipment name, muscle groups, or zone letters A-F</div>
                </div>
                
                <!-- Active Filter Chips -->
                <div id="filter-chips-container" class="filter-chips-container hidden">
                    <span class="chips-label">Active filters:</span>
                    <div id="filter-chips" class="filter-chips"></div>
                </div>
                
                <div class="filter-groups">
                    <!-- Zone Filters -->
                    <fieldset class="filter-group">
                        <legend class="sr-only">Filter by gym zone</legend>
                        <label class="filter-label">Zone:</label>
                        <div class="filter-buttons">
                            <button class="zone-filter filter-btn active" data-zone="all" aria-pressed="true">All</button>
                            <button class="zone-filter filter-btn" data-zone="A" aria-pressed="false">A - EGYM</button>
                            <button class="zone-filter filter-btn" data-zone="B" aria-pressed="false">B - Hammer</button>
                            <button class="zone-filter filter-btn" data-zone="C" aria-pressed="false">C - Nautilus</button>
                            <button class="zone-filter filter-btn" data-zone="D" aria-pressed="false">D - Free</button>
                            <button class="zone-filter filter-btn" data-zone="E" aria-pressed="false">E - Cardio</button>
                            <button class="zone-filter filter-btn" data-zone="F" aria-pressed="false">F - Functional</button>
                        </div>
                    </fieldset>
                    
                    <!-- Muscle Group Filters -->
                    <fieldset class="filter-group">
                        <legend class="sr-only">Filter by target muscle group</legend>
                        <label class="filter-label">Muscle:</label>
                        <div class="filter-buttons">
                            <button class="muscle-filter filter-btn active" data-muscle="all" aria-pressed="true">All</button>
                            <button class="muscle-filter filter-btn" data-muscle="chest" aria-pressed="false">Chest</button>
                            <button class="muscle-filter filter-btn" data-muscle="back" aria-pressed="false">Back</button>
                            <button class="muscle-filter filter-btn" data-muscle="shoulders" aria-pressed="false">Shoulders</button>
                            <button class="muscle-filter filter-btn" data-muscle="legs" aria-pressed="false">Legs</button>
                            <button class="muscle-filter filter-btn" data-muscle="arms" aria-pressed="false">Arms</button>
                            <button class="muscle-filter filter-btn" data-muscle="core" aria-pressed="false">Core</button>
                        </div>
                    </fieldset>
                </div>
            </div>

            <!-- Equipment Grid -->
            <div id="equipment-list" class="equipment-grid">
                <!-- Equipment cards will be inserted here by JavaScript -->
            </div>
        </div>

        <!-- Workout Builder View -->
        <div id="workout-view" class="view hidden">
            <div id="workout-content" class="view-content">
                <!-- Workout builder content will be inserted here by JavaScript -->
            </div>
        </div>

        <!-- Substitutes View -->
        <div id="substitutes-view" class="view hidden">
            <div id="substitutes-content" class="view-content">
                <!-- Substitutes content will be inserted here by JavaScript -->
            </div>
        </div>

        <!-- History View -->
        <div id="history-view" class="view hidden">
            <div id="history-content" class="view-content">
                <!-- History content will be inserted here by JavaScript -->
            </div>
        </div>

        <!-- Settings View -->
        <div id="settings-view" class="view hidden">
            <div id="settings-content" class="view-content">
                <!-- Settings content will be inserted here by JavaScript -->
            </div>
        </div>
    </main>

    <!-- Status Bar -->
    <div id="status-bar" class="status-bar">Ready</div>

    <!-- Modals -->
    <!-- Equipment Detail Modal -->
    <div id="equipment-modal" class="modal">
        <div class="modal-content">
            <!-- Modal content will be inserted by JavaScript -->
        </div>
    </div>

    <!-- Substitutes Modal -->
    <div id="substitutes-modal" class="modal">
        <div class="modal-content">
            <!-- Modal content will be inserted by JavaScript -->
        </div>
    </div>

    <!-- Authentication Modal -->
    <div id="auth-modal" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="auth-title">
        <div class="modal-content auth-modal">
            <div class="modal-header">
                <h2 id="auth-title">Welcome to EOS Fitness Tracker</h2>
                <button class="modal-close" data-action="close-auth-modal" aria-label="Close authentication dialog">&times;</button>
            </div>
            <div class="modal-body">
                <div id="auth-register" class="auth-form">
                    <h3>Create Your Account</h3>
                    <p>Get started with secure cloud storage for your workout data.</p>
                    <form id="register-form">
                        <div class="form-group">
                            <label for="user-name-input">Your Name:</label>
                            <input type="text" id="user-name-input" name="userName" placeholder="Enter your name" required>
                        </div>
                        <button type="submit" class="btn-primary">Create Account</button>
                    </form>
                    <p class="auth-switch">
                        Already have an account? <button type="button" class="link-button" data-action="switch-to-login">Login instead</button>
                    </p>
                </div>
                
                <div id="auth-login" class="auth-form hidden">
                    <h3>Login to Your Account</h3>
                    <p>Enter your User ID to access your workout data.</p>
                    <form id="login-form">
                        <div class="form-group">
                            <label for="user-id-input">User ID:</label>
                            <input type="text" id="user-id-input" name="userId" placeholder="user-1234567890-abc123" required>
                            <small class="form-help">Your User ID starts with "user-" followed by numbers and letters</small>
                        </div>
                        <button type="submit" class="btn-primary">Login</button>
                    </form>
                    <p class="auth-switch">
                        Don't have an account? <button type="button" class="link-button" data-action="switch-to-register">Create one</button>
                    </p>
                </div>
                
                <div id="auth-loading" class="auth-loading hidden">
                    <div class="loading-spinner"></div>
                    <p>Setting up your account...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Migration Modal -->
    <div id="migration-modal" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="migration-title">
        <div class="modal-content migration-modal">
            <div class="modal-header">
                <h2 id="migration-title">Upgrade to Cloud Storage</h2>
                <button class="modal-close" data-action="close-migration-modal" aria-label="Close migration dialog">&times;</button>
            </div>
            <div class="modal-body">
                <div id="migration-intro" class="migration-step">
                    <h3>üöÄ Welcome to the new secure version!</h3>
                    <p>We found your existing workout data. Let's migrate it to secure cloud storage so you can access it from any device.</p>
                    <div class="migration-benefits">
                        <div class="benefit-item">
                            <span class="benefit-icon">üîê</span>
                            <span>Secure encrypted storage</span>
                        </div>
                        <div class="benefit-item">
                            <span class="benefit-icon">üì±</span>
                            <span>Cross-device synchronization</span>
                        </div>
                        <div class="benefit-item">
                            <span class="benefit-icon">‚òÅÔ∏è</span>
                            <span>Automatic cloud backup</span>
                        </div>
                    </div>
                    <button id="start-migration" class="btn-primary">Start Migration</button>
                    <button id="skip-migration" class="btn-secondary">Continue Without Migration</button>
                </div>
                
                <div id="migration-progress" class="migration-step hidden">
                    <h3>Migrating Your Data...</h3>
                    <div class="progress-bar">
                        <div id="migration-progress-fill" class="progress-fill"></div>
                    </div>
                    <p id="migration-status">Preparing migration...</p>
                </div>
                
                <div id="migration-complete" class="migration-step hidden">
                    <h3>‚úÖ Migration Complete!</h3>
                    <p>Your workout data has been successfully moved to secure cloud storage.</p>
                    <div id="migration-summary" class="migration-summary"></div>
                    <button id="continue-to-app" class="btn-primary">Continue to App</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notification-container" class="notification-container" aria-live="polite" aria-atomic="false"></div>
    
    <!-- Screen Reader Announcements -->
    <div id="sr-announcements" class="sr-only" aria-live="polite" aria-atomic="true"></div>

    <!-- Hidden File Input for Import -->
    <input type="file" id="import-file-input" accept=".json" class="hidden">

    <!-- Footer -->
    <footer class="main-footer">
        <div class="footer-content">
            <p>EOS Fitness Tracker v2.0 | Personal Equipment Settings Manager</p>
            <p class="footer-links">
                <button type="button" class="link-button" data-action="export-data">Export Data</button> |
                <button type="button" class="link-button" data-action="show-settings">Settings</button> |
                <button type="button" class="link-button" data-action="show-about">About</button>
            </p>
        </div>
    </footer>

    <!-- Load JavaScript -->
    <script src="app.js"></script>
</body>
</html>